# DS18B20测温模块

## 注意点

- 转换温度时间 500ms
- 可编程 9~12 位数字输出
- 每颗芯片有可编程的 ID 序列号
- 用户可自行设置报警值
- 温度传感器的测温范围为-55°C 到+125°C；根据用户需要通过配置寄存器可以设定数字转换精度和测温速度。芯片内置 4byte 非易失性存储单元供用户使用，2byte 用于高低温报警，另外 2byte于保存用户自定义信息。在-10°C 到+85°C 用范围内最大误差为± 0.4°C。
- 

## 引脚功能

![](.\pictures\Quicker_20240712_170927.png)

![](.\pictures\Quicker_20240712_172452.png)

![](.\pictures\Quicker_20240712_210004.png)

![](.\pictures\Quicker_20240712_210256.png)

### 暂存器包含了：

1. 两个字节的温度寄存器
2. 了一高一低两个报警触发阈值寄存器（TH 和 TL）
3. 配置寄存器
4. 2 个字节的用户可编程 E2PROM
5. 5保留，8CRC

## 存储

![](.\pictures\Quicker_20240712_210256.png)

有9个字节的存储空间，编号0-8：

1. 0和1只读，存储来自于温度传感器的数字输出；
2. 2和3，存储高低报警触发值；
3. 4，配置寄存器允许用户设定温度数字转换的分辨率为 9,10，11 或 12 位，默认12；
4. 5，保留；
5. 字节 6 和 7 是用户可以自由使用的；
6. 8，产生的CRC校验；



## 读写过程

1. 初始化
2. ROM指令
3. 功能指令



ROM指令：F0,33,55,CC,EC

功能指令：44,4E,EC,BE,48,B8,B4



功能指令READ SCRATCHPAD可以读这9个字节，从0字节的最低位开始读。

![](.\pictures\Quicker_20240712_211017.png)



功能指令4E

![](.\pictures\Quicker_20240712_211659.png)



![](.\pictures\Quicker_20240712_213150.png)

## 时序图

![](.\pictures\Quicker_20240713_075816.png)

![](.\pictures\Quicker_20240713_075833.png)